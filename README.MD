# 라우팅 (Routing) 개념 소개

웹 애플리케이션에서 **라우팅**이란, 사용자가 요청한 URL에 따라 적절한 페이지를 보여주는 기능을 의미합니다.  
라우팅 시스템을 통해 하나의 프로젝트 내에서 여러 페이지를 구성하고 관리할 수 있습니다.

---

## 라우팅의 필요성

- **단일 페이지 구성**: 일정 관리 애플리케이션과 같이 하나의 화면으로 충분한 경우도 있지만,  
- **다중 페이지 구성**: 블로그와 같은 웹사이트는 여러 페이지로 나누어져 있습니다.

예를 들어 블로그 애플리케이션에서는 다음과 같은 페이지가 필요합니다.

- **글쓰기 페이지**: 새로운 포스트를 작성하는 페이지  
- **포스트 목록 페이지**: 작성된 여러 포스트의 목록을 보여주는 페이지  
- **포스트 읽기 페이지**: 하나의 포스트 내용을 상세히 보여주는 페이지

---

## 라우팅 시스템의 역할

- 페이지별 컴포넌트를 분리하여 관리  
- URL 경로에 따라 알맞은 컴포넌트를 렌더링  
- 사용자 경험 향상과 프로젝트 유지보수 용이성 증대

---

라우팅 시스템은 React, Vue, Angular 등 다양한 프레임워크에서 필수적으로 제공하며,  
웹 애플리케이션을 구조화하고 체계적으로 관리하는 데 핵심적인 역할을 합니다.

---

# SPA (싱글 페이지 애플리케이션) 개념 소개

---

## SPA란?

- 싱글 페이지 애플리케이션(SPA)이란, 하나의 페이지로 이루어진 웹 애플리케이션을 의미합니다.
- 반면, MPA(Multi Page Application)는 여러 개의 정적인 페이지로 구성된 방식입니다.

---

## MPA와 SPA의 차이점

- MPA는 사용자 인터랙션이 적고 정적인 콘텐츠를 제공하는 데 적합합니다.
- 하지만 사용자 인터랙션이 많고 다양한 정보를 제공하는 모던 웹 애플리케이션에는 SPA가 더 적합합니다.

---

## SPA의 동작 원리

- HTML을 한 번만 받아와 웹 애플리케이션을 실행시킨 후,  
- 이후에는 필요한 데이터만 서버에서 받아와 화면을 업데이트합니다.
- 즉, 페이지 전체를 새로 고침하지 않고 화면 일부만 동적으로 변경합니다.

---

## 사용자 경험과 라우팅

- 기술적으로는 한 페이지만 존재하지만, 사용자는 여러 페이지가 있는 것처럼 느낍니다.
- React Router 같은 라우팅 시스템은 사용자의 브라우저 주소창 경로에 따라 적절한 컴포넌트를 보여줍니다.
- 페이지 전환 시 서버에 새로운 HTML을 요청하지 않고,  
- 브라우저의 History API를 사용해 주소창 URL만 변경하면서 기존 애플리케이션 상태를 유지합니다.

---

SPA는 빠른 사용자 경험과 부드러운 인터랙션을 제공하며, 현대 웹 개발에서 매우 중요한 패턴입니다.


# URL 파라미터와 쿼리스트링

---

## 개요

웹 애플리케이션에서 페이지 주소를 정의할 때, 유동적인 값을 전달해야 하는 경우가 있습니다.

---

## URL 파라미터와 쿼리스트링 예시

- **URL 파라미터 예시**:  
/profile/velopert

- **쿼리스트링 예시**:  
/articles?page=1&keyword=react


---

## 차이점과 사용 용도

| 구분          | 설명                                                      | 예시                         |
| ------------- | --------------------------------------------------------- | ---------------------------- |
| URL 파라미터  | 주소 경로에 동적인 값을 포함하여 특정 리소스를 식별할 때 사용 | `/profiles/:username` 경로에서 `username` 값 전달 |
| 쿼리스트링    | URL 뒷부분에 `?`로 시작하며 `key=value` 쌍으로 데이터를 전달, 여러 개는 `&`로 구분 | 페이지 번호, 검색 키워드, 정렬 옵션 등 전달 시 사용 |

---

## 활용 사례

- **URL 파라미터**: 특정 사용자 프로필 조회, 게시글 상세 페이지 접근 시 ID나 이름을 경로에 포함  
- **쿼리스트링(Querystring)**:  
- 키워드 검색  
- 페이지네이션(페이지 번호)  
- 정렬 방식 등 데이터 조회 시 필요한 옵션 전달  

---

URL 파라미터와 쿼리스트링을 적절히 활용하여 동적인 페이지를 효율적으로 구성할 수 있습니다.

# URL 파라미터 사용법

---

## 개요

- URL 파라미터는 `useParams`라는 React Router Hook을 사용해 객체 형태로 조회할 수 있습니다.
- 파라미터 이름은 라우트 설정 시 `Route` 컴포넌트의 `path` prop에서 정의합니다.

---

## 예시 코드 설명

- `data` 객체에 예시 프로필 정보를 key-value 형태로 저장합니다.
- `Profile` 컴포넌트에서는 `useParams`로 URL 파라미터인 `username` 값을 받아서 해당 프로필을 조회합니다.
- 프로필이 존재하지 않으면 "존재하지 않는 프로필입니다."라는 문구를 보여주고,  
  존재하면 프로필 정보를 화면에 출력합니다.

---

# 쿼리스트링(Querystring) 사용법

---

## useLocation Hook

- React Router의 `useLocation` Hook은 현재 사용자가 보고 있는 페이지의 정보를 담은 `location` 객체를 반환합니다.
- `location` 객체는 다음과 같은 속성들을 포함합니다:

| 속성명    | 설명                                                                                         |
| --------- | -------------------------------------------------------------------------------------------- |
| `pathname` | 현재 주소의 경로 (쿼리스트링 제외)                                                           |
| `search`   | 맨 앞의 `?` 문자를 포함한 쿼리스트링 값                                                      |
| `hash`     | 주소의 `#` 문자 뒤의 값 (주로 해시 라우터에서 사용)                                         |
| `state`    | 페이지로 이동할 때 임의로 넣을 수 있는 상태 값                                              |
| `key`      | location 객체의 고유 값 (초기값은 `default`, 페이지가 변경될 때마다 고유값 생성)             |

---

## 쿼리스트링 조회

- 쿼리스트링은 `location.search` 값을 통해 조회할 수 있습니다.
---

# 쿼리스트링(Querystring)과 useSearchParams Hook

---

## useSearchParams Hook

- React Router의 `useSearchParams`는 배열 형태를 반환합니다.
- 첫 번째 원소는 쿼리 파라미터를 조회하거나 수정할 수 있는 메서드들이 담긴 객체입니다.
- 두 번째 원소는 쿼리 파라미터를 업데이트하는 함수입니다.

---

## 주요 메서드

| 메서드  | 설명                                       |
| ------- | ------------------------------------------ |
| `get`   | 특정 쿼리 파라미터의 값을 조회 (없으면 `null` 반환) |
| `set`   | 특정 쿼리 파라미터 값을 설정 또는 업데이트 |

---

## 사용 시 주의사항

- 쿼리 파라미터 값은 항상 **문자열(String)** 타입으로 조회됩니다.
- 예를 들어, `true` 또는 `false` 값을 비교할 때는 반드시 문자열로 비교해야 합니다.  
---

# 공통 레이아웃 컴포넌트와 중첩된 라우트

---

## 개요

- 중첩된 라우트와 `Outlet`은 여러 페이지에서 공통으로 보여줘야 하는 레이아웃(예: 헤더, 사이드바 등)을 구현할 때 매우 유용합니다.
- 예를 들어, `Home`, `About`, `Profile` 페이지 모두 상단에 같은 헤더를 보여줘야 하는 상황을 가정할 수 있습니다.

---

## 일반적인 접근법

- 가장 먼저 떠올릴 수 있는 방법은 `Header` 컴포넌트를 별도로 만들어서 각 페이지 컴포넌트에서 반복적으로 임포트하고 사용하는 것입니다.
- 이 방법도 충분히 작동하지만, 코드 중복과 유지보수 측면에서 불리할 수 있습니다.

---

## 중첩된 라우트와 Outlet을 활용한 구현

- React Router의 중첩된 라우트를 활용하면 `Layout` 컴포넌트에 공통 UI를 한 번만 선언하고, 하위 라우트들이 그 내부에 렌더링됩니다.
- `Layout` 컴포넌트 내부에 `<Outlet />`을 두어, 중첩된 라우트들의 내용을 그 위치에 표시할 수 있습니다.
- 이렇게 하면 공통 컴포넌트를 반복해서 임포트하지 않아도 되어 코드가 더 깔끔하고 관리하기 편리합니다.

---

# React 라우팅 가이드

---

## 라우팅이란?

- 웹 애플리케이션에서 라우팅은 사용자가 요청한 URL에 따라 알맞는 페이지를 보여주는 것을 의미합니다.
- 프로젝트를 하나의 페이지로 구성할 수도 있고, 여러 페이지로 구성할 수도 있습니다.
- 예를 들어, 일정 관리 애플리케이션은 하나의 페이지로 충분할 수 있지만, 블로그는 여러 페이지로 구성됩니다.
  - 글쓰기 페이지: 새로운 포스트 작성
  - 포스트 목록 페이지: 여러 포스트 목록 표시
  - 포스트 읽기 페이지: 특정 포스트 표시

- 여러 페이지로 구성된 애플리케이션을 효율적으로 관리하기 위해 라우팅 시스템이 필요합니다.

---

## SPA (싱글 페이지 애플리케이션)

- SPA는 한 개의 페이지로 이루어진 애플리케이션입니다.
- MPA(멀티 페이지 애플리케이션)는 사용자 인터랙션이 적은 정적 페이지에 적합하지만,  
  사용자 인터랙션이 많고 다양한 정보를 제공하는 모던 웹앱에는 SPA가 더 적합합니다.
- SPA는 최초에 HTML을 한 번만 받아와 앱을 실행하고, 이후 필요한 데이터만 받아 화면을 갱신합니다.
- React Router 같은 라우팅 시스템은 주소창 경로에 따라 알맞은 페이지를 보여주며,  
  링크 이동 시 서버에 HTML 재요청 없이 브라우저 History API를 이용해 주소만 바꾸고 화면을 업데이트합니다.

---

## URL 파라미터와 쿼리스트링

- URL 파라미터는 경로에 동적인 값을 넣는 방식입니다.  
  예: `/profile/velopert`
- 쿼리스트링은 URL 뒤에 `?key=value&key2=value2` 형식으로 값을 전달합니다.  
  예: `/articles?page=1&keyword=react`
- URL 파라미터는 보통 특정 데이터 조회용(예: ID, 이름)으로 사용하고,  
  쿼리스트링은 검색, 페이지네이션, 정렬 등 옵션 전달에 사용됩니다.

---

## URL 파라미터 사용법

- React Router의 `useParams` 훅을 이용해 객체 형태로 URL 파라미터를 조회할 수 있습니다.
- 파라미터 이름은 `Route` 컴포넌트의 `path` 속성에 설정합니다.
- 예를 들어, `Profile` 컴포넌트는 `username` 파라미터로 프로필 조회 후,  
  존재하지 않으면 "존재하지 않는 프로필입니다." 메시지를 보여줍니다.

---

## 쿼리스트링 사용법

- `useLocation` 훅은 현재 페이지 정보를 담은 `location` 객체를 반환합니다.
- `location` 객체에는 다음이 포함됩니다:  
  - `pathname`: 쿼리스트링 제외 현재 경로  
  - `search`: `?` 포함 쿼리스트링  
  - `hash`: `#` 이후 값 (해시 라우터 용도)  
  - `state`: 페이지 이동 시 전달하는 임의 상태  
  - `key`: 고유한 location 식별자
- 쿼리스트링은 `location.search`를 통해 조회합니다.
- 예: `http://localhost:3000/about?detail=true&mode=1`

---

## 쿼리스트링과 useSearchParams

- `useSearchParams` 훅은 배열을 반환하며,  
  첫 번째 원소는 쿼리 파라미터 조회/수정 메서드가 담긴 객체,  
  두 번째 원소는 파라미터 업데이트 함수입니다.
- `get` 메서드로 특정 쿼리 파라미터를 조회할 수 있습니다.  
  없으면 `null` 반환.
- `set` 메서드로 특정 쿼리 파라미터를 수정할 수 있습니다.
- 쿼리 파라미터 값은 항상 문자열입니다.  
  예를 들어, boolean 값을 비교할 땐 `'true'`처럼 문자열로 비교해야 하며,  
  숫자는 `parseInt`로 변환해야 합니다.

---

## 공통 레이아웃 컴포넌트와 중첩 라우트

- 여러 페이지에서 공통으로 보여줘야 할 UI(예: 헤더)는 중첩 라우트와 `Outlet`으로 관리할 수 있습니다.
- 기존에는 각 페이지 컴포넌트마다 `Header`를 임포트하여 재사용했지만, 코드 중복이 발생합니다.
- 중첩 라우트를 사용하면 `Layout` 컴포넌트에 공통 UI를 한번만 작성하고, 내부에 `<Outlet />`을 배치하여 하위 페이지 컴포넌트를 렌더링할 수 있습니다.
- 이렇게 하면 코드가 깔끔해지고 유지보수가 쉬워집니다.

---

## useNavigate 함수와 replace 옵션

- `useNavigate` 훅으로 받은 `navigate` 함수는 숫자를 인자로 받을 때 브라우저 기록에서 앞으로/뒤로 이동합니다.
  
  ```js
  navigate(-1); // 뒤로 한 페이지 이동
  navigate(-2); // 뒤로 두 페이지 이동
  navigate(1);  // 앞으로 한 페이지 이동 (뒤로 갔을 경우)

